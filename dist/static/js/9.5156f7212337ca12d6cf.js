webpackJsonp([9],{Ar3O:function(n,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=o("Xxa5"),e=o.n(t),c=o("exGp"),a=o.n(c),u=["iconfont iconwenbenyurongqi","iconfont iconbianhao","iconfont iconzhuanhuankaiguan","iconfont iconchakanchaosong","iconfont iconzujian","iconfont iconxuanzeqi","iconfont iconjianqie","iconfont iconqianjin","iconfont iconcaidan","iconfont iconshujuzidian","iconfont iconwuxuliebiao","iconfont iconshujujiaosequanxianguanli","iconfont iconkongjianguanli","iconfont iconwenjianguanliqi","iconfont iconyingyebuxuanzeqi","iconfont iconbiaogeshuxingkongjian","iconfont iconxinjianwenjian","iconfont icondaochu","iconfont iconwodeweituo","iconfont iconfengexian","iconfont iconjichengkaifa","iconfont iconmokuaishengchengqi","iconfont iconxinjianwenjianjia","iconfont iconchuanlie","iconfont iconyihangkuai","iconfont iconyouji","iconfont iconliuchengguanliqi","iconfont iconwodezhanghu","iconfont iconyincang","iconfont iconshujutigonglaiyuan","iconfont iconkaifataojian","iconfont iconduoxuanzu","iconfont iconbaobiaoshejiqi","iconfont icontianjia","iconfont iconzhongmingming","iconfont iconwodeyingyong","iconfont iconwenjianjia","iconfont iconxiangmu","iconfont iconwenjian","iconfont iconwenben","iconfont iconhuanhangfu","iconfont icondingzhihuakaifa","iconfont iconmobanguanli","iconfont iconxiangshang","iconfont iconzhankai","iconfont iconyulan","iconfont icontongxin","iconfont icongongnengjianjie","iconfont iconshanchu","iconfont iconquanxianyulan","iconfont icontabye","iconfont iconyanseziduan","iconfont iconshousuo","iconfont iconmokuai","iconfont iconyidongyingyong","iconfont iconyulanmoban","iconfont iconfuzhi","iconfont iconxiugai","iconfont iconkongjianzu","iconfont iconanniudianjirizhi","iconfont iconzhuliucheng","iconfont icongonggongyinyongmokuai","iconfont iconxwl","iconfont icondanxuankuang","iconfont iconkuaikuang","iconfont iconxiugaimima","iconfont icongongjulan","iconfont iconweituoguanli","iconfont icondanchuchuangkou","iconfont iconxitongrizhi","iconfont iconniantie","iconfont iconanniu","iconfont iconheguileibaobiao","iconfont iconshejiliuchengqi","iconfont iconziyuanguanliqi","iconfont iconzhuzhuangtu","iconfont iconmimazhongzhi","iconfont iconyouxuliebiao","iconfont iconbianji","iconfont iconrili","iconfont iconxiangying","iconfont iconkeshiquyu","iconfont iconkehujiaobenduan","iconfont iconbianliangpeizhi","iconfont iconbaobiaogongchang","iconfont icontianjiabaobiaomoban","iconfont icondaibanshixiang","iconfont iconxialaliebiaokuang","iconfont iconxitong","iconfont icondaoru","iconfont icongongnengjiaosequanxianguanli","iconfont iconfuzhimoban","iconfont iconwukuangyiduanhua","iconfont iconchajian","iconfont iconchuli","iconfont iconyingyong","iconfont iconyouxuliebiaozhongyitiao","iconfont iconshengchengcaidandizhi","iconfont iconduoweidu","iconfont iconfuwuqidaima","iconfont iconhuakuai","iconfont iconhoutui","iconfont iconjishitongxun","iconfont iconjianzhibianjiqi","iconfont iconsheji","iconfont iconguanligongju","iconfont icongengxinqi","iconfont iconqiyeguanliqi","iconfont iconfengelan","iconfont iconguolvqi","iconfont iconduoxuankuang","iconfont iconzaixianyonghu","iconfont iconchaojitongjibiao","iconfont iconshiwucaozuojilu","iconfont iconshujumokuai","iconfont iconjiesuo","iconfont iconzidongliuchengxiafaliebiao","iconfont iconshujushitu","iconfont iconrongqi","iconfont iconshujuguanli","iconfont icongongnengpaihangbang","iconfont iconwenbenkuang","iconfont iconshichuang","iconfont iconshijian","iconfont iconyonghusuoyouquanxianzonglan","iconfont iconzhuxiao","iconfont icontupian","iconfont iconsuoding","iconfont iconjiemianfangan","iconfont icondaimashili","iconfont iconweitiao","iconfont icontingyong","iconfont iconjiaoseguanli","iconfont iconzhuye","iconfont iconxiugaibaobiaomoban","iconfont iconchaolianjie","iconfont iconkaiguan","iconfont iconshuaxin","iconfont iconshanchubaobiaomoban","iconfont iconbanbengengxin","iconfont iconriqi","iconfont iconanniuzu","iconfont iconshujukuyoulanqi","iconfont iconyichulishixiang","iconfont icondaorupeizhi","iconfont iconmianban","iconfont icondedaolujing","iconfont iconyoulanlishi","iconfont iconjiaoyirizhi","iconfont iconshenhedaiban","iconfont iconjihuarenwu","iconfont icondanxuanzu","iconfont iconcangkucunchu","iconfont iconneiqianshujuchucun","iconfont iconyulanbaobiaomoban","iconfont iconbiaotilan","iconfont iconyonghuguanli","iconfont iconcaozuorizhi","iconfont iconhtmlbianjiqi","iconfont iconyincangbiaodan","iconfont iconshituguanliqi","iconfont icongonggongmokuai","iconfont iconbiaoqian","iconfont iconshuzhuangtu","iconfont iconbiaodan","iconfont iconshujuquanxianguanli","iconfont iconxiaoxi","iconfont iconxitong"],s=o("l/JR"),r=function(n){return Object(s.a)("post","/updateMenu",n)},l={data:function(){return{iconeditVisible:!1,dialogVisible:!1,dialogType:"",menuList:[],iconList:u,parentList:[],searchInfo:"",menuInfo:{title:"",index:"",icon:"",parent:""},rules:{title:[{required:!0,message:"请输入中文菜单名称",trigger:"blur"},{min:3,max:8,message:"长度在 3 到 8 个字符",trigger:"blur"}],index:[{required:!0,message:"请输入英文菜单名称",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],icon:[{required:!0,message:"请选择菜单图标"}]}}},methods:{getMenuList:function(){var n=this;return a()(e.a.mark(function i(){var o,t;return e.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e=void 0,Object(s.a)("post","/selectMenu",e);case 2:o=i.sent,200==(t=o.data).code&&1e4==t.data.flag&&(n.menuList=t.data.resultData);case 5:case"end":return i.stop()}var e},i,n)}))()},addMenu:function(){this.dialogVisible=!0,this.dialogType="add"},remove:function(n){var i=this;this.$confirm("确定要执行该操作吗?","删除菜单",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(a()(e.a.mark(function o(){var t,c;return e.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e=n,Object(s.a)("post","/deleteMenuByIds?id="+e);case 2:t=o.sent,500==(c=t.data).data.code?i.$message({message:c.data.msg,type:"warning"}):200==c.data.code&&i.$message({message:c.data.msg,type:"success"}),i.getMenuList();case 6:case"end":return o.stop()}var e},o,i)})))},searchMenu:function(){var n=this;return a()(e.a.mark(function i(){var o,t;return e.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e=n.searchInfo,Object(s.a)("post","/searchMenu?content="+e);case 2:o=i.sent,t=o.data,n.menuList=t.data.resultData;case 5:case"end":return i.stop()}var e},i,n)}))()},edit:function(n){var i=this;return a()(e.a.mark(function o(){var t,c;return e.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e=n,Object(s.a)("post","/selectMenuById?menuId="+e);case 2:t=o.sent,c=t.data,i.menuInfo=c.data.resultData,i.dialogVisible=!0,i.dialogType="edit";case 7:case"end":return o.stop()}var e},o,i)}))()},iconClick:function(n){this.menuInfo.icon=n,this.iconeditVisible=!1},handleClose:function(n){var i=this;this.$confirm("当前修改尚未提交,是否放弃修改？").then(function(o){i.$message({message:"修改失败",type:"error"}),n()}).catch(function(n){})},submitForm:function(n){var i,o=this;this.$refs[n].validate((i=a()(e.a.mark(function n(i){var t,c;return e.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i){n.next=18;break}if("add"!=o.dialogType){n.next=8;break}return n.next=4,e={createTime:"2020-04-10T03:18:40.276Z",deletec:0,icon:"icon",id:"string",name:"test",orderNum:1,parentId:0,perms:"user:list,user:create",remark:"string",type:0,updateTime:"2020-04-10T03:18:40.276Z",url:"/test"},Object(s.a)("post","/insertMenu",e);case 4:t=n.sent,t.data,n.next=12;break;case 8:return n.next=10,r({createTime:"2020-04-10T05:52:35.017Z",deletec:0,icon:"icon",id:"string",name:"test",orderNum:1,parentId:0,perms:"user:list,user:create",remark:"string",type:0,updateTime:"2020-04-10T05:52:35.017Z",url:"/test"});case 10:c=n.sent,c.data;case 12:o.menuInfo={},o.getMenuList(),o.$message({message:"提交成功",type:"success"}),o.dialogVisible=!1,n.next=20;break;case 18:return console.log("error submit!!"),n.abrupt("return",!1);case 20:case"end":return n.stop()}var e},n,o)})),function(n){return i.apply(this,arguments)}))},resetForm:function(n){this.$refs[n].resetFields()}},created:function(){this.parentList=[{index:"role",icon:"iconfont iconjiaoseguanli ",title:"角色管理"},{index:"authority",icon:"iconfont iconjiaoseguanli ",title:"权限管理"},{index:"user",icon:"iconfont iconjiaoseguanli ",title:"用户管理"}],this.getMenuList()}},f={render:function(){var n=this,i=n.$createElement,o=n._self._c||i;return o("div",{staticClass:"menu_box"},[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:3}},[o("el-button",{attrs:{type:"primary"},on:{click:n.addMenu}},[n._v("新增菜单")])],1),n._v(" "),o("el-col",{attrs:{span:6,offset:15}},[o("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入需要查询的菜单信息",clearable:""},on:{change:n.searchMenu},model:{value:n.searchInfo,callback:function(i){n.searchInfo=i},expression:"searchInfo"}},[o("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:n.searchMenu},slot:"append"})],1)],1)],1),n._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:n.menuList,stripe:"",border:""}},[o("el-table-column",{attrs:{prop:"name",label:"菜单名称",width:"180"}}),n._v(" "),o("el-table-column",{attrs:{prop:"icon",label:"图标",width:"60"},scopedSlots:n._u([{key:"default",fn:function(n){return[o("i",{class:n.row.icon,staticStyle:{"font-size":"18px"}})]}}])}),n._v(" "),o("el-table-column",{attrs:{prop:"type",label:"类型",width:"120"},scopedSlots:n._u([{key:"default",fn:function(i){return[0==i.row.type?o("el-tag",{attrs:{size:"small"}},[n._v("目录")]):n._e(),n._v(" "),1==i.row.type?o("el-tag",{attrs:{size:"small",type:"success"}},[n._v("菜单")]):n._e(),n._v(" "),2==i.row.type?o("el-tag",{attrs:{size:"small",type:"info"}},[n._v("按钮")]):n._e()]}}])}),n._v(" "),o("el-table-column",{attrs:{prop:"orderNum",label:"排序号",width:"80"}}),n._v(" "),o("el-table-column",{attrs:{prop:"url",label:"菜单url"}}),n._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"描述"}}),n._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"170"},scopedSlots:n._u([{key:"default",fn:function(i){return[o("span",[n._v(n._s(n._f("dataFormat")(i.row.createTime)))])]}}])}),n._v(" "),o("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:n._u([{key:"default",fn:function(i){return[o("span",{staticClass:"btns",on:{click:function(o){return n.edit(i.row.id)}}},[n._v("修改")]),n._v(" "),o("span",{staticClass:"btns",on:{click:function(o){return n.remove(i.row.id)}}},[n._v("删除")])]}}])})],1),n._v(" "),o("el-dialog",{attrs:{title:"edit"==n.dialogType?"修改菜单":"新增菜单",visible:n.dialogVisible,width:"50%","before-close":n.handleClose,top:"10vh"},on:{"update:visible":function(i){n.dialogVisible=i}}},[o("el-form",{ref:"menuInfo",staticClass:"demo-menuInfo",attrs:{model:n.menuInfo,rules:n.rules,"label-width":"150px"}},[o("el-form-item",{attrs:{label:"菜单名称(中文)",prop:"title"}},[o("el-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:n.menuInfo.title,callback:function(i){n.$set(n.menuInfo,"title",i)},expression:"menuInfo.title"}})],1),n._v(" "),o("el-form-item",{attrs:{label:"菜单名称(英文)",prop:"index"}},[o("el-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:n.menuInfo.index,callback:function(i){n.$set(n.menuInfo,"index",i)},expression:"menuInfo.index"}})],1),n._v(" "),o("el-form-item",{attrs:{label:"上级菜单",prop:"parent"}},[o("el-select",{attrs:{placeholder:"请选择上级菜单"},model:{value:n.menuInfo.parentId,callback:function(i){n.$set(n.menuInfo,"parentId",i)},expression:"menuInfo.parentId"}},n._l(n.parentList,function(n,i){return o("el-option",{key:i,attrs:{label:n.title,value:n.index}})}),1),n._v(" "),o("span",{staticClass:"tips"},[o("i",{staticClass:"el-icon-info"}),n._v(" 新增一级菜单可不选\n        ")])],1),n._v(" "),o("el-form-item",{attrs:{label:"菜单图标",prop:"icon"}},[o("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"},model:{value:n.iconeditVisible,callback:function(i){n.iconeditVisible=i},expression:"iconeditVisible"}},[o("div",{staticClass:"icon_box"},n._l(n.iconList,function(i,t){return o("el-button",{key:t,attrs:{icon:i,circle:"",size:"mini"},on:{click:function(o){return n.iconClick(i)}}})}),1),n._v(" "),o("el-input",{attrs:{slot:"reference",placeholder:"请选择图标",readonly:!0},slot:"reference",model:{value:n.menuInfo.icon,callback:function(i){n.$set(n.menuInfo,"icon",i)},expression:"menuInfo.icon"}})],1)],1),n._v(" "),o("el-form-item",{attrs:{label:"描述",prop:"remark"}},[o("el-input",{attrs:{placeholder:"请输入描述"},model:{value:n.menuInfo.remark,callback:function(i){n.$set(n.menuInfo,"remark",i)},expression:"menuInfo.remark"}})],1),n._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(i){return n.submitForm("menuInfo")}}},[n._v("提交")]),n._v(" "),o("el-button",{on:{click:function(i){return n.resetForm("menuInfo")}}},[n._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var g=o("VU/8")(l,f,!1,function(n){o("a5QB")},"data-v-131c7850",null);i.default=g.exports},a5QB:function(n,i){}});